tinymce.PluginManager.add('jzk_shortcodes',
function(editor, url) {
	var insertShortcode_spoiler = function() {
		return editor.insertContent('[spoiler]【将这里替换成你想要折叠的内容】[/spoiler]');
	};

	var insertShortcode_hide_login = function() {
		return editor.insertContent('[login]【将这里替换成你想要登录可见的内容】[/login]');
	};

	var insertShortcode_hide_reply = function() {
		return editor.insertContent('[reply]【将这里替换成你想要回复可见的内容】[/reply]');
	};
	var insertShortcode_ttpay = function() {
		return editor.insertContent('[ttPay]【先将编辑器底部的“购买”调整为“是”，然后设置“价格”，然后将这里替换成你想要“付费”的内容】[/ttPay]');
	};

	editor.ui.registry.addButton('spoiler', {
		text: '📁',
		tooltip: '折叠内容',
		title: '折叠内容',
		onAction: function() {
			insertShortcode_spoiler();
		}
	});

	editor.ui.registry.addButton('hide_login', {
		text: '🔒',
		tooltip: '登录可见',
		title: '登录可见',
		onAction: function() {
			insertShortcode_hide_login();
		}
	});

	editor.ui.registry.addButton('hide_reply', {
		text: '💬',
		tooltip: '回复可见',
		title: '回复可见',
		onAction: function() {
			insertShortcode_hide_reply();
		}
	});
	editor.ui.registry.addButton('hide_ttpay', {
		text: '🛒',
		tooltip: '付费内容',
		title: '付费内容',
		onAction: function() {
			insertShortcode_ttpay();
		}
	});

	return {
		getMetadata: function() {
			return {
				name: '插入短代码',
				url: 'https://www.jzku.top/'
			};
		}
	};
});